
<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="LaTeX lwarp package" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<title>Springhead - How to use CMake — Springheadをライブラリとして利用する方へ</title>
<link rel="stylesheet" type="text/css" href="lwarp_sagebrush.css" />
</head>
<body>


<a id="autopage-17"></a> <nav class="topnavigation"><a href="main_html.html" class="linkhome"
>Home</a></nav>

<header>

</header>

<h1>Springhead - How to use CMake</h1>
<nav class="sidetoc">

<div class="sidetoctitle">

<p>Contents</p>


</div>

<div class="sidetoccontents">

<p><a href="main_html.html" class="linkhome"
>Home</a></p>


<p><a href="2ukqrQFbNykczxHg.html#autosec-6" class="tocchapter"
><span class="sectionnumber">1</span>&#x2001;CMakeとは何をするものか</a></p>


<p><a href="2ukqrQFbNykczxHg.html#autosec-7" class="tocsection"
><span class="sectionnumber">1.1</span>&#x2001;CMakeとは何をするものか</a></p>


<p><a href="COtOfv3iniSnphzw.html#autosec-18" class="tocchapter"
><span class="sectionnumber">2</span>&#x2001;Springheadをライブラリとして利用する方へ</a></p>


<p><a href="COtOfv3iniSnphzw.html#autosec-19" class="tocsection"
><span class="sectionnumber">2.1</span>&#x2001;Springheadをライブラリとして利用する方へ</a></p>


<p><a href="2rgZt0T7lfFaxUHi.html#autosec-33" class="tocchapter"
><span class="sectionnumber">3</span>&#x2001;Springheadを開発する方へ</a></p>


<p><a href="2rgZt0T7lfFaxUHi.html#autosec-34" class="tocsection"
><span class="sectionnumber">3.1</span>&#x2001;Springheadを開発する方へ</a></p>


</div>

</nav>

<section class="textbody">

<h3 id="autosec-18"> <span class="sectionnumber">2&#x2001;</span>Springheadをライブラリとして利用する方へ</h3><a id="autopage-18"></a>

<a id="ForSpringheadUsers"></a>
<h4 id="autosec-19"> <span class="sectionnumber">2.1&#x2001;</span>Springheadをライブラリとして利用する方へ</h4><a id="autopage-19"></a>

<a id="sec:ForNonDevelopper"></a>

<p>この章は、Springheadをライブラリとして利用する方のために、 ライブラリファイルの作成方法について説明します。</p>
<h5 id="autosec-20"> <span class="sectionnumber">2.1.1&#x2001;</span>Springheadライブラリのダウンロード</h5><a id="autopage-20"></a>

<a id="subsec:Download"></a>

<p>まずSpringhead LibraryをGitHubからダウンロード(clone)してください。 以下、ダウンロードするディレクトリを"C:/Springhead"として説明を進めます。</p>


<figure id="autoid-6" class="figure ">
<div class="center">

<p>
<a href="fig/command-2-1-a.svg" target="_blank"
><img src="fig/command-2-1-a.svg"
style="width:434pt; "
class="inlineimage"
></a></p>


</div>

<a id="fig:DownloadTree"></a>

</figure>

<p>サブモジュールを選択する場合は、</p>


<figure id="autoid-7" class="figure ">
<div class="center">

<p>
<a href="fig/command-2-1-b.svg" target="_blank"
><img src="fig/command-2-1-b.svg"
style="width:434pt; "
class="inlineimage"
></a></p>


</div>

<a id="fig:DownloadTree"></a>

</figure>

<p>GUIの場合は、        </p>


<ul style="list-style-type:none">

<li>
<figure id="autoid-8" class="figure ">
<div class="center">
<p>
<a href="fig/SpringheadClone1.svg" target="_blank"
><img src="fig/SpringheadClone1.svg"
style="width:217pt; "
class="inlineimage"
></a>
<a href="fig/SpringheadClone2.svg" target="_blank"
><img src="fig/SpringheadClone2.svg"
style="width:173pt; "
class="inlineimage"
></a></p>

</div>
<figcaption>
<p>Fig.                                              2.1:&nbsp;Springheadダ   ウ   ン   ロ   ー   ド</p>

</figcaption>
<a id="fig:SpringheadClone"></a>
</figure>
</li>
</ul>
<h5 id="autosec-24"> <span class="sectionnumber">2.1.2&#x2001;</span>準備</h5><a id="autopage-24"></a>

<a id="subsec:PrepareLibrary"></a>

<p>ダウンロードが済んだら"C:/Springhead/core/src"に移動してください。</p>


<p>まず、配布されたファイル"CMakeLists.txt.Lib.dist"を "CMakeLists.txt"という名前でコピーします (誤コミットを防止するためにもリネームではなくコピーしてください）
                                                                                                       。</p>


<figure id="autoid-9" class="figure ">
<div class="center">

<p>
<a href="fig/command-2-2-a.svg" target="_blank"
><img src="fig/command-2-2-a.svg"
style="width:434pt; "
class="inlineimage"
></a></p>


</div>

<a id="fig:DownloadTree"></a>

</figure>

<p>自前でインストールしているパッケージ (boost, glew, freeglut, glui)を使用する場合 およびライブラリファイルとヘッダファイルのインストール先を指定する場合には、 さらに、 配布されたファイル"CMakeConf.txt.dist"を"CMakeConf.txt"という名前でコピーして
必要な編集をします。 編集の方法については"CMakeConf.txt"に記述されています (“#set(variable value )”から“#”を削除し、 “value ”を適切に設定し直す)。</p>


<figure id="autoid-10" class="figure ">
<div class="center">

<p>
<a href="fig/command-2-2-b.svg" target="_blank"
><img src="fig/command-2-2-b.svg"
style="width:434pt; "
class="inlineimage"
></a></p>


</div>

<a id="fig:DownloadTree"></a>

</figure>

<p>以上で準備作業は終了です。</p>
<h5 id="autosec-27"> <span class="sectionnumber">2.1.3&#x2001;</span>cmakeの実行</h5><a id="autopage-27"></a>

<a id="subsec:CmakeLibrary"></a>

<p>以下では、cmakeの生成物(ビルドの生成物ではありません)を格納する 作業場所(ディレクトリ)を“build ”として話を進めます(作業場所は任意で構いません)。</p>


<p>cmakeにはConfigureとGenerateの2段階があります。</p>


<p>コマンドプロンプトの場合は、1回のコマンドで両方を実行できます。</p>


<figure id="autoid-11" class="figure ">
<div class="center">

<p>
<a href="fig/command-2-3.svg" target="_blank"
><img src="fig/command-2-3.svg"
style="width:434pt; "
class="inlineimage"
></a></p>


</div>

<a id="fig:DownloadTree"></a>

</figure>

<p>GUIの場合は、        </p>


<ul style="list-style-type:none">

<li>
<p>まずConfigureボタン(図<a href="COtOfv3iniSnphzw.html#fig:CmakeConfigure">2.2</a> 左図の下)を押します。</p>

<figure id="autoid-12" class="figure ">
<div class="center">
<p>
<a href="fig/CmakeConfigure1.svg" target="_blank"
><img src="fig/CmakeConfigure1.svg"
style="width:152pt; "
class="inlineimage"
></a>
<a href="fig/CmakeConfigure2.svg" target="_blank"
><img src="fig/CmakeConfigure2.svg"
style="width:87pt; "
class="inlineimage"
></a>
<a href="fig/CmakeConfigure3.svg" target="_blank"
><img src="fig/CmakeConfigure3.svg"
style="width:130pt; "
class="inlineimage"
></a></p>

</div>
<figcaption>
<p>Fig.                                                                           2.2:&nbsp;cmake                                                                           configure</p>

</figcaption>
<a id="fig:CmakeConfigure"></a>
</figure>
<p>build ディレクトリがなければ作成するかどうか聞かれ(同中央図)、 次にgenerator指定画面となります(同右図)。 cmake version 3.15.0では、 generatorとして図<a href="COtOfv3iniSnphzw.html#fig:CmakeGenerator">2.3</a>のものが指定できます。</p>

<figure id="autoid-13" class="figure ">
<div class="center">
<p>
<a href="fig/CmakeConfigure4.svg" target="_blank"
><img src="fig/CmakeConfigure4.svg"
style="width:130pt; "
class="inlineimage"
></a></p>

</div>
<figcaption>
<p>Fig.                                                                                   2.3:&nbsp;cmake   generator</p>

</figcaption>
<a id="fig:CmakeGenerator"></a>
</figure>
<p>最後に図<a href="COtOfv3iniSnphzw.html#fig:CmakeConfigure">2.2</a> 左図の下のGenerateボタンを押します。</p>

</li>
</ul>

<p>以上で、build 以下にsolution/project fileなどが生成されたはずです。</p>
<h5 id="autosec-31"> <span class="sectionnumber">2.1.4&#x2001;</span>ライブラリのビルド</h5><a id="autopage-31"></a>

<a id="subsec:BuildLibrary"></a>

<p>Springhead Libraryのビルド方法は、従来と変わりがありません。<br />
build へ移動し、"Springhead.sln"を指定してVisual Studioを実行してください。</p>


<p>“<a href="COtOfv3iniSnphzw.html#subsec:PrepareLibrary">2.1.2</a> 準備”でライブラリファイルのインストール先を 指定していなければ、ライブラリファイルは次のいずれかに生成されます。</p>


<p><span style="width:20pt; display:inline-block"></span>"C:/Springhead/generated/lib/win64"<br />
または<br />
<span style="width:20pt; display:inline-block"></span>"C:/Springhead/generated/lib/win32"<br />
</p>


</section>

<footer>

</footer>

<nav class="botnavigation"><a href="main_html.html" class="linkhome"
>Home</a></nav>

</body>
</html>
