\makeatletter

% lwarpを使うための準備
%
\newif\ifLwarp
\Lwarptrue

% lwarpでは'zw'が使えないのでマクロ'\zw'にしておく
%	%iflwarp(...)は"buildhtml.py"で変換する
%iflwarp(\newdimen\zw)
%iflwarp(\zw=10pt)
%	本当はこうしたいのだけれど…
%%iflwarp(\setbox0=\hbox{\phantom{あ}})
%%iflwarp(\zw=\the\wd0)

% lwarpmkに対するおまじない
\def\KLUDGE{\vrule width 0pt height 1pt }

% \url{...}の中に漢字が書かれていることへの対処
%	漢字を含むものは \url{...} -> \URL{...} とする
%	これらは単に文字列として扱う
\def\URL#1{#1}

% --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- ---
%
% 参照
% 
\newcommand{\Fig}[1]{Fig\,\ref{fig_#1}}
\newcommand{\Table}[1]{Table\,\ref{table_#1}}
%%\newcommand{\式}[1]{式(\ref{eqn:#1})}
%%\newcommand{\節}[1]{第\ref{sec_#1}節}
%%\newcommand{\章}[1]{第\ref{chap_#1}章}
\newcommand{\EQUATION}[1]{式(\ref{eqn:#1})}
\newcommand{\SECTION}[1]{第\ref{sec_#1}節}
\newcommand{\CHAPTER}[1]{第\ref{chap_#1}章}

% --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- --- ---
%
% 図
% 
\newif\ifnoeps
\newenvironment{fig}{\begin{figure}[h]\begin{center}}{\end{center}\end{figure}}
\newcommand{\labelcap}[2]{\caption{#2}\label{fig_#1}}
\newcommand{\epsopt}[2]{\ifnoeps \else \includegraphics[#2]{fig/#1.eps} \fi}
\newcommand{\epscapopt}[3]{\epsopt{#1}{#3}\labelcap{#1}{#2}}
\newcommand{\epscap}[2]{\epscapopt{#1}{#2}{width=0.6\hsize,clip}}
\newcommand{\eps}[1]{\epsopt{#1}{width=0.6\hsize,clip}}

\makeatother
