% 5.4.8.ConstDefs.tex
%	Last update: 2018/07/26 F.Kanehori
%\newpage
\subsubsection{定数定義クラス ConstDefs}
\label{subsubsec:ConstDefs}

\bigskip
\begin{Brief}[b]
	DailyBuildシステムで共通に使用する定数を提供するクラスである。
\end{Brief}

\bigskip
\noindent
\bf{クラス CFK}
\begin{narrow}
	\def\TabRow#1#2#3{\tt{#1\hfil} & \DQuote{\tt{#2\hfil}} & \Cell{#3\hfil}\\\hline}
	テスト制御ファイルで定義された値を参照するための定数。
	次のものがある。
	\Vskip{-.8\baselineskip}
	\begin{longtable}[r]{|p{7em}|p{8em}|p{165pt}|}\hline
	    \MC{1}{|c}{\bf{定 数}} & \MC{1}{|c}{\bf{キーワード}}
	    			   & \MC{1}{|c|}{\bf{説 明}}\\\hline
	    \TabRow{SRCTOP}{SprTop}{%
			トップディレクトリ\\
			自動的に次の値に設定される\\
			\Path{.../Springhead}}
	    \TabRow{SRCTOP}{SprTop}{%
			トップディレクトリ\\
			自動的に次の値に設定される\\
			\Path{.../Springhead}}
	    \TabRow{SPRTEST}{SprTest}{%
			テストディレクトリ\\
			自動的に次の値に設定される\\
			\Path{.../Springhead/core/test}}
	    \TabRow{EXCLUDE}{Exclude}{%
			このディレクトリをテストから除外する\\か否か\Note}
	    \TabRow{DESCEND}{Descend}{%
			サブディレクトリをテスト対象に組み込\\むか否か\Note}
	    \TabRow{SOLUTION_ALIAS}{SolutionAlias}{%
			solution/makeファイル名\\
			ファイル名がディレクトリ名と異なる場\\合に使用する}
	    \TabRow{BUILD}{Build}{コンパイルを実行するか否か\Note}
	    \TabRow{USE_CLOSED_SRC}{UseClosedSrc}{%
			Closed sourceを使用するか否か\Note}
	    \TabRow{MAKE_TARGET}{MakeTarget}{未使用}
	    \TabRow{CPP_MACRO}{CppMacro}{%
			コンパイル時マクロ ※未実装※}
	    \TabRow{BUILD_LOG}{BuildLog}{%
			コンパイルログファイル名\\
			\Path{\$(SprTest)/log/StubBuild.log}}
	    \TabRow{BUILD_ERR_LOG}{BuildErrLog}{%
			コンパイルエラーログファイル名\\
			\PathBgn{\$(SprTest)/log/}\Cont\\
			\hspace{3em}\PathEnd{StubBuildError.log}}
	    \TabRow{RUN}{Run}{テストプログラムを実行するか否か\Note}
	    \TabRow{OUTPUT_DIR}{OutputDir}{%
			バイナリ出力ディレクトリ名\\
			指定がなければsolution/makeファイル\\に従う}
	    \TabRow{BINARY_OUT}{BinaryOut}{%
			出力バイナリファイル名\\
			指定がなければsolution/makeファイル\\に従う}
	    \TabRow{TIMEOUT}{Timeout}{%
			テストプログラム実行時強制タイムアウ\\ト指定。\\
			タイムアウトさせる秒数を指定する。}
	    \TabRow{EXPECTED}{Expected}{%
			テストプログラム終了コードの予想値\\
			テストの合否判定に使用する}
	    \TabRow{ADD_PATH}{AddPath}{テストプログラム実行時に追加\\するパス}
	    \TabRow{PIPE_PROCESS}{PipeProcess}{%
			パイププロセス指定(実行するコマンド\\を記述する)。
			このプロセスの出力とテ\\ストプログラムの標準入力とが
			パイプで\\結ばれる。\\
			\bf{※} テストプログラムの出力を渡すパイ\\ププロセスも
			指定できると便利だが(出\\力のフィルタリング等)
			実装できていな\\い。}
	    \TabRow{KILL_PROCESS}{KillProcess}{%
			テストプログラム終了後にkillすべき\\プログラム。\\
			プロセスイメージ名を指定する。}
	    \TabRow{RUN_LOG}{RunLog}{%
			テスト実行ログファイル名\\
			\Path{\$(SprTest)/log/Run.log}}
	    \TabRow{RUN_ERR_LOG}{RunErrLog}{%
			テスト実行エラーログファイル名\\
			\Path{\$(SprTest)/log/RunError.log}}
	    \TabRow{INTERVENTION}{Intervention}{%
			テストプログラム実行時にオペレータ介\\入が必要\Note\\
			この値がTrueなら、
			このテストプログ\\ラムは実行されない。}
	\end{longtable}
	\Vskip{-\baselineskip}
	{\small \begin{Table}[t][15pt]{ll}
		\Item{\Hskip{5pt}\Dagger}{%
			論理値(TrueまたはFalse)を指定する。
			このキーワードを指定しなければFalseを、
			キーワードのみを指定すればTrueを指定したものとみなす。}
	\end{Table}}
\end{narrow}

\noindent
\bf{クラス RST}
\begin{narrow}
	\def\TabRow#1#2{\tt{#1\hfil} & \Cell{#2\hfil}\\\hline}
	テスト結果累積データのカテゴリを表す定数(enumeration型)。
	\Vskip{-.8\baselineskip}
	\begin{longtable}[r]{|p{4em}|p{287pt}|}\hline
	    \MC{1}{|c}{\bf{定 数}} & \MC{1}{|c|}{\bf{説 明}}\\\hline
	    \TabRow{ERR}{エラー情報}
	    \TabRow{SKP}{スキップ情報\Hskip{5pt}
			(\KQuote{このテストは実行されなかった}という情報)}
	    \TabRow{BLD}{コンパイル結果情報}
	    \TabRow{RUN}{テスト実行結果情報}
	    \TabRow{EXP}{実行結果想定値情報}
	\end{longtable}
\end{narrow}

\noindent
\bf{クラス CSU}
\begin{narrow}
	\def\TabRow#1#2{\tt{#1\hfil} & \Cell{#2}\\\hline}
	非公開ソースを使用するか否かを表す定数(enumeration型)。
	\Vskip{-.8\baselineskip}
	\begin{longtable}[r]{|p{4em}|p{287pt}|}\hline
	    \MC{1}{|c}{\bf{定 数}} & \MC{1}{|c|}{\bf{説 明}}\\\hline
	    \TabRow{AUTO}{個別にテスト制御ファイルに従う}
	    \TabRow{USE}{すべてで使用する}
	    \TabRow{UNUSE}{すべてで使用しない}
	\end{longtable}
\end{narrow}

\noindent
\bf{クラス TESTID}
\begin{narrow}
	\def\TabRow#1#2{\tt{#1\hfil} & \Cell{#2}\\\hline}
	テスト種別を表す定数(enumeration型)。
	\Vskip{-.8\baselineskip}
	\begin{longtable}[r]{|p{4em}|p{287pt}|}\hline
	    \MC{1}{|c}{\bf{定 数}} & \MC{1}{|c|}{\bf{説 明}}\\\hline
	    \TabRow{STUB}{Springheadライブラリ作成}
	    \TabRow{TESTS}{\Path{src/tests}のテスト}
	    \TabRow{SAMPLES}{\Path{src/Samples}のテスト}
	    \TabRow{OTHER}{上記以外}
	\end{longtable}
\end{narrow}

\noindent
\bf{その他の定数}
\begin{narrow}
	\def\TabRow#1#2{\tt{#1\hfil} & \Cell{#2}\\\hline}
	\Vskip{-.8\baselineskip}
	\begin{longtable}[r]{|p{4em}|p{287pt}|}\hline
	    \MC{1}{|c}{\bf{定 数}} & \MC{1}{|c|}{\bf{説 明}}\\\hline
	    \TabRow{PLATS}{プラットフォームの一覧リスト(\tt{x86, x64})}
	    \TabRow{CONFS}{%
	    	ビルド構成の一覧リスト(\tt{Debug, Release, Trace})}
	\end{longtable}
\end{narrow}

% end: 5.4.8.ConstDefs.tex
